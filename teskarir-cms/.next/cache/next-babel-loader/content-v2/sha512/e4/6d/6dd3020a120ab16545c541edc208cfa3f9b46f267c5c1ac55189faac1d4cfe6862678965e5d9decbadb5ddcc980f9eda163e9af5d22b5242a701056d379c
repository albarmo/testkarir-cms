{"ast":null,"code":"import _regeneratorRuntime from \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms-demo-spr1/teskarir-cms/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms-demo-spr1/teskarir-cms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\n// import dynamic from \"next/dynamic\";\n// import { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\nimport qoreContext from \"../utils/qoreContext\"; // import ReactPaginate from \"react-paginate\";\n// component import example\n// const Todo = dynamic(() => import(\"../components/Todo\"), { ssr: false });\n\nvar UsersManagement = function UsersManagement() {\n  var _useState = useState(\"52462423-356c-4749-8f1d-d752a620960f\"),\n      id = _useState[0],\n      setId = _useState[1];\n\n  var _useState2 = useState(false),\n      detailView = _useState2[0],\n      setDetailView = _useState2[1];\n\n  var _qoreContext$view$use = qoreContext.view(\"allMembers\").useListRow({\n    limit: 100,\n    order: \"asc\"\n  }, {\n    pollInterval: 500\n  }),\n      allMembers = _qoreContext$view$use.data;\n\n  var deleteUser = qoreContext.view(\"allMembers\").useDeleteRow();\n  var updateUserStatus = qoreContext.view(\"allMembers\").useUpdateRow();\n\n  var _qoreContext$view$use2 = qoreContext.view(\"allMembers\").useGetRow(id),\n      userDetails = _qoreContext$view$use2.data,\n      status = _qoreContext$view$use2.status;\n\n  var detailViewHandler = function detailViewHandler() {\n    setDetailView(!detailView);\n  };\n\n  var getDetailsUser = function getDetailsUser(id) {\n    console.log(id);\n    console.log(userDetails, status);\n    setId(id);\n    detailViewHandler(); // router.push(\"/\");\n  }; // Triggers fetch for new page\n  // const handlePagination = (page) => {\n  //   const path = router.pathname;\n  //   const query = router.query;\n  //   query.page = page.selected + 1;\n  //   router.push({\n  //     pathname: path,\n  //     query: query,\n  //   });\n  // };\n\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"CMS Teskarir\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\"\n  })), __jsx(\"div\", {\n    className: \"w-full bg-blue-300 flex justify-between\"\n  }, __jsx(\"div\", {\n    className: \"w-1/4 bg-blue-600 min-h-screen min-w-max flex-col items-center justify-center px-15 py-20\"\n  }, __jsx(\"h1\", {\n    className: \"text-xl font-bold cursor-pointer text-left bg-transparent w-9/12 h-max px-10 py-10  text-white\"\n  }, \"Admin\", __jsx(\"br\", null), \"Dashboard\"), __jsx(\"ul\", {\n    className: \"bg-transparent justify-center min-w-max min-w-max h-5/6 \"\n  }, __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\"\n  }, \"Home\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\"\n  }, \"Users Management\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\"\n  }, \"Tes Kuis\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\"\n  }, \"Tentang Karir\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\"\n  }, \"Logout\"))), __jsx(\"div\", {\n    className: \"w-9/12 min-h-screen bg-gray-100 h-24 min-h-0 md:min-h-48 lg:w-full justify-around items-center\"\n  }, __jsx(\"div\", {\n    className: \"container md:container md:mx-auto  w-9/12 mt-24 justify-between flex flex-row items-center px-10\"\n  }, __jsx(\"h1\", {\n    className: \"lg:text-xl sm:text-lg font-bold\"\n  }, \"Users Management\"), __jsx(\"img\", {\n    src: \"http://teskarir.com/wp-content/uploads/2020/06/imageedit_17_9008611935-150x150.png\",\n    className: \"w-1/12\"\n  })), __jsx(\"div\", {\n    className: \"md:container md:mx-auto px-10 mt-20\"\n  }, __jsx(\"table\", {\n    className: \"border-collapse w-full\"\n  }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Email\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Role\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Username\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Domisili\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Status\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\"\n  }, \"Actions\"))), __jsx(\"tbody\", null, allMembers.map(function (user, idUser) {\n    return __jsx(React.Fragment, null, __jsx(\"tr\", {\n      key: idUser,\n      className: \"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0\"\n    }, __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"Email\"), user.email), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"Role\"), __jsx(\"select\", {\n      onChange: function onChange(e) {\n        return updateUserStatus.updateRow(user.id, {\n          role: {\n            id: user.role.id,\n            displayField: e.target\n          }\n        });\n      }\n    }, __jsx(\"option\", {\n      selected: true,\n      value: user.role.displayField\n    }, user.role.displayField), __jsx(\"option\", {\n      value: \"admin\"\n    }, \"admin\"), __jsx(\"option\", {\n      value: \"kontributor\"\n    }, \"kontributor\"), __jsx(\"option\", {\n      value: \"peserta\"\n    }, \"peserta\"))), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"Username\"), user.username), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"Domisili\"), user.domicile), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"status\"), user.status == true ? __jsx(\"p\", null, \"Actived\") : __jsx(\"p\", null, \"Suspend\")), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\"\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\"\n    }, \"Actions\"), __jsx(\"a\", {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return updateUserStatus.updateRow(user.id, {\n                  status: !user.status\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })),\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline\"\n    }, \"Change Status\"), __jsx(\"a\", {\n      onClick: function onClick() {\n        return getDetailsUser(user.id);\n      },\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline pl-6\"\n    }, \"Lihat Detail\"), __jsx(\"a\", {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return deleteUser.deleteRow(user.id);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      })),\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline pl-6\"\n    }, \"Delete\"))));\n  }))), __jsx(\"div\", {\n    className: \"mt-10 ml-5\"\n  }, detailView ? __jsx(React.Fragment, null, userDetails ? __jsx(React.Fragment, null, __jsx(\"h1\", {\n    className: \"text-lg font-bold mb-3\"\n  }, \"Detail\"), __jsx(\"h2\", {\n    className: \"text-md\"\n  }, \"USER ID : \", userDetails.id), __jsx(\"h3\", null, \"Role : \", userDetails.role.displayField), __jsx(\"p\", null, \"Username : \", userDetails.username), __jsx(\"p\", null, \"email : \", userDetails.email), __jsx(\"p\", null, \"Domisili : \", userDetails.domicile), __jsx(\"p\", null, \"Tanggal Lahir : \", userDetails.birthDate), __jsx(\"p\", null, \"Status Akun :\", userDetails.status ? __jsx(\"span\", null, \"Actived Account\") : __jsx(\"span\", null, \"Suspend\"))) : null) : null)))));\n};\n\nexport default UsersManagement;","map":null,"metadata":{},"sourceType":"module"}