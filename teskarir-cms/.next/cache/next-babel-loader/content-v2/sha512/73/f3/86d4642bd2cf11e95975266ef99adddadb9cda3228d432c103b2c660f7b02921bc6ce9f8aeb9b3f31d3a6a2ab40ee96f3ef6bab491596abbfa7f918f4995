{"ast":null,"code":"var _jsxFileName = \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/components/Todo.tsx\";\nvar __jsx = React.createElement;\nimport \"todomvc-common/base.css\";\nimport \"todomvc-app-css/index.css\";\nimport \"todomvc-common/base\";\nimport React from \"react\";\nimport qoreContext from \"../utils/qoreContext\";\nimport TodoItem from \"./TodoItem\";\n\nconst Todo = () => {\n  const taskInputRef = React.useRef(null);\n  const tasks = qoreContext.views.toDoDefaultView.useListRow({\n    limit: 5,\n    order: \"asc\"\n  }, {\n    pollInterval: 5000\n  });\n  const {\n    data: members\n  } = qoreContext.view(\"allMembers\").useListRow({\n    limit: 10,\n    order: \"asc\"\n  }, {\n    pollInterval: 2000\n  }); // const { data: allMembers } = qoreContext\n  //   .view(\"allMembers\")\n  //   .useListRow({\n  //     offset: 10,\n  //     limit: 10,\n  //     order: \"asc\",\n  //   });\n\n  console.log(members, \"<<< ini all members\");\n  const insertTask = qoreContext.views.toDoDefaultView.useInsertRow();\n  const handleAddTask = React.useCallback(async e => {\n    if (e.key === \"Enter\") {\n      await insertTask.insertRow({\n        task: e.currentTarget.value,\n        done: false,\n        description: e.currentTarget.value,\n        deadline: new Date(),\n        points: 0\n      });\n      tasks.revalidate();\n      if (taskInputRef.current) taskInputRef.current.value = \"\";\n    }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(\"section\", {\n    className: \"todoapp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(\"header\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"todos\"), __jsx(\"input\", {\n    onKeyPress: handleAddTask,\n    className: \"new-todo\",\n    placeholder: \"What needs to be done?\",\n    autoFocus: true,\n    disabled: insertTask.status === \"loading\",\n    ref: taskInputRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), __jsx(\"section\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    id: \"toggle-all\",\n    className: \"toggle-all\",\n    type: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"toggle-all\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Mark all as complete\"), __jsx(\"ul\", {\n    className: \"todo-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, tasks.data.map(task => __jsx(TodoItem, {\n    task: task,\n    key: task.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  })))), __jsx(\"footer\", {\n    className: \"footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"todo-count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"0\"), \" item left\"), __jsx(\"ul\", {\n    className: \"filters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"selected\",\n    href: \"#/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"All\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: \"#/active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Active\")), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: \"#/completed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"Completed\"))), __jsx(\"button\", {\n    className: \"clear-completed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Clear completed\"))), __jsx(\"footer\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Double-click to edit a todo\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Template by \", __jsx(\"a\", {\n    href: \"http://sindresorhus.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }\n  }, \"Sindre Sorhus\")), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Created by \", __jsx(\"a\", {\n    href: \"http://todomvc.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 22\n    }\n  }, \"you\")), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Part of \", __jsx(\"a\", {\n    href: \"http://todomvc.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, \"TodoMVC\"))));\n};\n\nexport default Todo;","map":{"version":3,"sources":["/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/components/Todo.tsx"],"names":["React","qoreContext","TodoItem","Todo","taskInputRef","useRef","tasks","views","toDoDefaultView","useListRow","limit","order","pollInterval","data","members","view","console","log","insertTask","useInsertRow","handleAddTask","useCallback","e","key","insertRow","task","currentTarget","value","done","description","deadline","Date","points","revalidate","current","status","map","id"],"mappings":"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","sourcesContent":["import \"todomvc-common/base.css\";\nimport \"todomvc-app-css/index.css\";\nimport \"todomvc-common/base\";\nimport React from \"react\";\nimport qoreContext from \"../utils/qoreContext\";\nimport TodoItem from \"./TodoItem\";\n\nconst Todo = () => {\n  const taskInputRef = React.useRef<HTMLInputElement>(null);\n  const tasks = qoreContext.views.toDoDefaultView.useListRow(\n    { limit: 5, order: \"asc\" },\n    { pollInterval: 5000 }\n  );\n\n  const { data: members } = qoreContext\n    .view(\"allMembers\")\n    .useListRow({ limit: 10, order: \"asc\" }, { pollInterval: 2000 });\n\n  // const { data: allMembers } = qoreContext\n  //   .view(\"allMembers\")\n  //   .useListRow({\n  //     offset: 10,\n  //     limit: 10,\n  //     order: \"asc\",\n  //   });\n\n  console.log(members, \"<<< ini all members\");\n  const insertTask = qoreContext.views.toDoDefaultView.useInsertRow();\n  const handleAddTask = React.useCallback(\n    async (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === \"Enter\") {\n        await insertTask.insertRow({\n          task: e.currentTarget.value,\n          done: false,\n          description: e.currentTarget.value,\n          deadline: new Date(),\n          points: 0,\n        });\n        tasks.revalidate();\n        if (taskInputRef.current) taskInputRef.current.value = \"\";\n      }\n    },\n    []\n  );\n  return (\n    <>\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n          <input\n            onKeyPress={handleAddTask}\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            autoFocus\n            disabled={insertTask.status === \"loading\"}\n            ref={taskInputRef}\n          />\n        </header>\n        <section className=\"main\">\n          <input id=\"toggle-all\" className=\"toggle-all\" type=\"checkbox\" />\n          <label htmlFor=\"toggle-all\">Mark all as complete</label>\n          <ul className=\"todo-list\">\n            {tasks.data.map((task) => (\n              <TodoItem task={task} key={task.id} />\n            ))}\n          </ul>\n        </section>\n        <footer className=\"footer\">\n          <span className=\"todo-count\">\n            <strong>0</strong> item left\n          </span>\n          <ul className=\"filters\">\n            <li>\n              <a className=\"selected\" href=\"#/\">\n                All\n              </a>\n            </li>\n            <li>\n              <a href=\"#/active\">Active</a>\n            </li>\n            <li>\n              <a href=\"#/completed\">Completed</a>\n            </li>\n          </ul>\n          <button className=\"clear-completed\">Clear completed</button>\n        </footer>\n      </section>\n      <footer className=\"info\">\n        <p>Double-click to edit a todo</p>\n        <p>\n          Template by <a href=\"http://sindresorhus.com\">Sindre Sorhus</a>\n        </p>\n        <p>\n          Created by <a href=\"http://todomvc.com\">you</a>\n        </p>\n        <p>\n          Part of <a href=\"http://todomvc.com\">TodoMVC</a>\n        </p>\n      </footer>\n    </>\n  );\n};\n\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}