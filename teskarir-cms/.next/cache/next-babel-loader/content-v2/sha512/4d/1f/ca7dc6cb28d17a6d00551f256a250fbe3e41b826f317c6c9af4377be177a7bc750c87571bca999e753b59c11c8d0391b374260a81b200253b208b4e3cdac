{"ast":null,"code":"import _regeneratorRuntime from \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/pages/usersManagement.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// import dynamic from \"next/dynamic\";\n// import { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\nimport qoreContext from \"../utils/qoreContext\";\nimport { useRouter } from \"next/router\"; // component import example\n// const Todo = dynamic(() => import(\"../components/Todo\"), { ssr: false });\n\nvar UsersManagement = function UsersManagement() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(\"52462423-356c-4749-8f1d-d752a620960f\"),\n      id = _useState[0],\n      setId = _useState[1];\n\n  var _useState2 = useState(false),\n      detailView = _useState2[0],\n      setDetailView = _useState2[1];\n\n  var _qoreContext$view$use = qoreContext.view(\"allMembers\").useListRow({\n    limit: 100,\n    order: \"asc\"\n  }, {\n    pollInterval: 500\n  }),\n      allMembers = _qoreContext$view$use.data;\n\n  var deleteUser = qoreContext.view(\"allMembers\").useDeleteRow();\n  var updateUserStatus = qoreContext.view(\"allMembers\").useUpdateRow();\n\n  var _qoreContext$view$use2 = qoreContext.view(\"allMembers\").useGetRow(id),\n      userDetails = _qoreContext$view$use2.data,\n      status = _qoreContext$view$use2.status;\n\n  var detailViewHandler = function detailViewHandler() {\n    setDetailView(!detailView);\n  };\n\n  var getDetailsUser = function getDetailsUser(id) {\n    console.log(id);\n    console.log(userDetails, status);\n    setId(id);\n    detailViewHandler(); // router.push(\"/\");\n  }; // Triggers fetch for new page\n\n\n  var handlePagination = function handlePagination(page) {\n    var path = router.pathname;\n    var query = router.query;\n    query.page = page.selected + 1;\n    router.push({\n      pathname: path,\n      query: query\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"CMS Teskarir\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"w-full bg-blue-300 flex justify-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"w-1/4 bg-blue-600 min-h-screen min-w-max flex-col items-center justify-center px-15 py-20\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-xl font-bold cursor-pointer text-left bg-transparent w-9/12 h-max px-10 py-10  text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Admin\", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), \"Dashboard\"), __jsx(\"ul\", {\n    className: \"bg-transparent justify-center min-w-max min-w-max h-5/6 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Home\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Users Management\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Tes Kuis\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Tentang Karir\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Logout\"))), __jsx(\"div\", {\n    className: \"w-9/12 min-h-screen bg-gray-100 h-24 min-h-0 md:min-h-48 lg:w-full justify-around items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"container md:container md:mx-auto  w-9/12 mt-24 justify-between flex flex-row items-center px-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    className: \"lg:text-xl sm:text-lg font-bold\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"Users Management\"), __jsx(\"img\", {\n    src: \"http://teskarir.com/wp-content/uploads/2020/06/imageedit_17_9008611935-150x150.png\",\n    className: \"w-1/12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"md:container md:mx-auto px-10 mt-20\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, __jsx(\"table\", {\n    className: \"border-collapse w-full\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"Email\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"Role\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, \"Username\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, \"Domisili\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, \"Status\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, \"Actions\"))), __jsx(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, allMembers.map(function (user, idUser) {\n    return __jsx(React.Fragment, null, __jsx(\"tr\", {\n      key: idUser,\n      className: \"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }\n    }, \"Email\"), user.email), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, \"Role\"), __jsx(\"select\", {\n      onChange: function onChange(e) {\n        return updateUserStatus.updateRow(user.id, {\n          role: {\n            id: user.role.id,\n            displayField: e.target\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, __jsx(\"option\", {\n      selected: true,\n      value: user.role.displayField,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 27\n      }\n    }, user.role.displayField), __jsx(\"option\", {\n      value: \"admin\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 27\n      }\n    }, \"admin\"), __jsx(\"option\", {\n      value: \"kontributor\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 27\n      }\n    }, \"kontributor\"), __jsx(\"option\", {\n      value: \"peserta\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 27\n      }\n    }, \"peserta\"))), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, \"Username\"), user.username), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Domisili\"), user.domicile), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, \"status\"), user.status == true ? __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 48\n      }\n    }, \"Actived\") : __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 65\n      }\n    }, \"Suspend\")), __jsx(\"td\", {\n      className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    }, __jsx(\"span\", {\n      className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, \"Actions\"), __jsx(\"a\", {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return updateUserStatus.updateRow(user.id, {\n                  status: !user.status\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })),\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \"Change Status\"), __jsx(\"a\", {\n      onClick: function onClick() {\n        return getDetailsUser(user.id);\n      },\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline pl-6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, \"Lihat Detail\"), __jsx(\"a\", {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return deleteUser.deleteRow(user.id);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      })),\n      href: \"#\",\n      className: \"text-blue-400 hover:text-blue-600 underline pl-6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, \"Delete\"))));\n  }))), __jsx(\"div\", {\n    className: \"mt-10 ml-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, detailView ? __jsx(React.Fragment, null, userDetails ? __jsx(React.Fragment, null, __jsx(\"h1\", {\n    className: \"text-lg font-bold mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 23\n    }\n  }, \"Detail\"), __jsx(\"h2\", {\n    className: \"text-md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 23\n    }\n  }, \"USER ID : \", userDetails.id), __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  }, \"Role : \", userDetails.role.displayField), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, \"Username : \", userDetails.username), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 23\n    }\n  }, \"email : \", userDetails.email), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 23\n    }\n  }, \"Domisili : \", userDetails.domicile), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 23\n    }\n  }, \"Tanggal Lahir : \", userDetails.birthDate), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 23\n    }\n  }, \"Status Akun :\", userDetails.status ? __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 27\n    }\n  }, \"Actived Account\") : __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 27\n    }\n  }, \"Suspend\"))) : null) : null)))));\n};\n\n_s(UsersManagement, \"htDOZfW+A5t5tIQ0B8yTj/IA3Vg=\", true, function () {\n  return [useRouter];\n});\n\n_c = UsersManagement;\nexport default UsersManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersManagement\");","map":{"version":3,"sources":["/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/pages/usersManagement.tsx"],"names":["Head","React","useState","qoreContext","useRouter","UsersManagement","router","id","setId","detailView","setDetailView","view","useListRow","limit","order","pollInterval","allMembers","data","deleteUser","useDeleteRow","updateUserStatus","useUpdateRow","useGetRow","userDetails","status","detailViewHandler","getDetailsUser","console","log","handlePagination","page","path","pathname","query","selected","push","map","user","idUser","email","e","updateRow","role","displayField","target","username","domicile","deleteRow","birthDate"],"mappings":"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","sourcesContent":["// import dynamic from \"next/dynamic\";\n// import { useEffect, useState } from \"react\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\nimport qoreContext from \"../utils/qoreContext\";\nimport Pagination from \"next-pagination\";\nimport { useRouter } from \"next/router\";\n\n// component import example\n// const Todo = dynamic(() => import(\"../components/Todo\"), { ssr: false });\n\nconst UsersManagement = () => {\n  const router = useRouter();\n\n  const [id, setId] = useState(\"52462423-356c-4749-8f1d-d752a620960f\");\n  const [detailView, setDetailView] = useState(false);\n\n  const { data: allMembers } = qoreContext\n    .view(\"allMembers\")\n    .useListRow({ limit: 100, order: \"asc\" }, { pollInterval: 500 });\n\n  const deleteUser = qoreContext.view(\"allMembers\").useDeleteRow();\n  const updateUserStatus = qoreContext.view(\"allMembers\").useUpdateRow();\n  const { data: userDetails, status } = qoreContext\n    .view(\"allMembers\")\n    .useGetRow(id);\n\n  const detailViewHandler = () => {\n    setDetailView(!detailView);\n  };\n\n  const getDetailsUser = (id: string) => {\n    console.log(id);\n    console.log(userDetails, status);\n    setId(id);\n    detailViewHandler();\n    // router.push(\"/\");\n  };\n\n  // Triggers fetch for new page\n  const handlePagination = (page) => {\n    const path = router.pathname;\n    const query = router.query;\n    query.page = page.selected + 1;\n    router.push({\n      pathname: path,\n      query: query,\n    });\n  };\n\n  return (\n    <>\n      <Head>\n        <title>CMS Teskarir</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      <div className=\"w-full bg-blue-300 flex justify-between\">\n        <div className=\"w-1/4 bg-blue-600 min-h-screen min-w-max flex-col items-center justify-center px-15 py-20\">\n          <h1 className=\"text-xl font-bold cursor-pointer text-left bg-transparent w-9/12 h-max px-10 py-10  text-white\">\n            Admin\n            <br />\n            Dashboard\n          </h1>\n          <ul className=\"bg-transparent justify-center min-w-max min-w-max h-5/6 \">\n            <li className=\"m-10 cursor-pointer text-white\">Home</li>\n            <li className=\"m-10 cursor-pointer text-white\">Users Management</li>\n            <li className=\"m-10 cursor-pointer text-white\">Tes Kuis</li>\n            <li className=\"m-10 cursor-pointer text-white\">Tentang Karir</li>\n            <li className=\"m-10 cursor-pointer text-white\">Logout</li>\n          </ul>\n        </div>\n        <div className=\"w-9/12 min-h-screen bg-gray-100 h-24 min-h-0 md:min-h-48 lg:w-full justify-around items-center\">\n          <div className=\"container md:container md:mx-auto  w-9/12 mt-24 justify-between flex flex-row items-center px-10\">\n            <h1 className=\"lg:text-xl sm:text-lg font-bold\">\n              Users Management\n            </h1>\n\n            <img\n              src=\"http://teskarir.com/wp-content/uploads/2020/06/imageedit_17_9008611935-150x150.png\"\n              className=\"w-1/12\"\n            />\n          </div>\n          <div className=\"md:container md:mx-auto px-10 mt-20\">\n            {/* <Pagination total={1000} style={{ display: \"flex\" }} /> */}\n            <table className=\"border-collapse w-full\">\n              <thead>\n                <tr>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Email\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Role\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Username\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Domisili\n                  </th>\n\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Status\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {allMembers.map((user, idUser) => (\n                  <>\n                    <tr\n                      key={idUser}\n                      className=\"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0\"\n                    >\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Email\n                        </span>\n                        {user.email}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Role\n                        </span>\n                        <select\n                          onChange={(e) =>\n                            updateUserStatus.updateRow(user.id, {\n                              role: {\n                                id: user.role.id,\n                                displayField: e.target,\n                              },\n                            })\n                          }\n                        >\n                          <option selected value={user.role.displayField}>\n                            {user.role.displayField}\n                          </option>\n                          <option value=\"admin\">admin</option>\n                          <option value=\"kontributor\">kontributor</option>\n                          <option value=\"peserta\">peserta</option>\n                        </select>\n                        {/* {JSON.stringify(user.role)} */}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Username\n                        </span>\n                        {user.username}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Domisili\n                        </span>\n                        {user.domicile}\n                      </td>\n\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          status\n                        </span>\n                        {user.status == true ? <p>Actived</p> : <p>Suspend</p>}\n                      </td>\n\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Actions\n                        </span>\n                        <a\n                          onClick={async () => {\n                            await updateUserStatus.updateRow(user.id, {\n                              status: !user.status,\n                            });\n                          }}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline\"\n                        >\n                          Change Status\n                        </a>\n                        <a\n                          onClick={() => getDetailsUser(user.id)}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline pl-6\"\n                        >\n                          Lihat Detail\n                        </a>\n                        <a\n                          onClick={async () => {\n                            await deleteUser.deleteRow(user.id);\n                          }}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline pl-6\"\n                        >\n                          Delete\n                        </a>\n                      </td>\n                    </tr>\n                    {/* <p>{JSON.stringify(allMembers)}</p> */}\n                  </>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"mt-10 ml-5\">\n              {detailView ? (\n                <>\n                  {userDetails ? (\n                    <>\n                      <h1 className=\"text-lg font-bold mb-3\">Detail</h1>\n                      <h2 className=\"text-md\">USER ID : {userDetails.id}</h2>\n                      <h3>Role : {userDetails.role.displayField}</h3>\n                      <p>Username : {userDetails.username}</p>\n                      <p>email : {userDetails.email}</p>\n                      <p>Domisili : {userDetails.domicile}</p>\n                      <p>Tanggal Lahir : {userDetails.birthDate}</p>\n                      <p>\n                        Status Akun :\n                        {userDetails.status ? (\n                          <span>Actived Account</span>\n                        ) : (\n                          <span>Suspend</span>\n                        )}\n                      </p>\n                    </>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UsersManagement;\n"]},"metadata":{},"sourceType":"module"}