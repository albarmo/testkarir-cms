{"ast":null,"code":"var _jsxFileName = \"/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/pages/usersManagement.tsx\";\nvar __jsx = React.createElement;\n// import dynamic from \"next/dynamic\";\nimport Head from \"next/head\";\nimport React, { useState } from \"react\";\nimport qoreContext from \"../utils/qoreContext\"; // import ReactPaginate from \"react-paginate\";\n\nimport { useRouter } from \"next/router\"; // component import example\n// const Todo = dynamic(() => import(\"../components/Todo\"), { ssr: false });\n\nconst UsersManagement = () => {\n  const router = useRouter();\n  const {\n    0: id,\n    1: setId\n  } = useState(\"\");\n  const {\n    0: detailView,\n    1: setDetailView\n  } = useState(false);\n  const {\n    data: allMembers\n  } = qoreContext.view(\"allMember\").useListRow({\n    limit: 100,\n    order: \"asc\"\n  }, {\n    pollInterval: 500\n  });\n  const deleteUser = qoreContext.view(\"allMember\").useDeleteRow();\n  const updateUserStatus = qoreContext.view(\"allMember\").useUpdateRow();\n  const updateUserRole = qoreContext.view(\"allMember\").useUpdateRow();\n  const {\n    data: userDetails,\n    status\n  } = qoreContext.view(\"allMember\").useGetRow(id);\n\n  const detailViewHandler = () => {\n    setDetailView(!detailView);\n  };\n\n  const getDetailsUser = id => {\n    console.log(id);\n    console.log(userDetails, status);\n    setId(id);\n    detailViewHandler();\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"CMS Teskarir\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"w-full bg-blue-300 flex justify-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"w-1/4 bg-blue-600 min-h-screen min-w-max flex-col items-center justify-center px-15 py-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: \"text-xl font-bold cursor-pointer text-left bg-transparent w-9/12 h-max px-10 py-10  text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Admin\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), \"Dashboard\"), __jsx(\"ul\", {\n    className: \"bg-transparent justify-center min-w-max min-w-max h-5/6 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Home\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Users Management\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Tes Kuis\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Tentang Karir\"), __jsx(\"li\", {\n    className: \"m-10 cursor-pointer text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Logout\"))), __jsx(\"div\", {\n    className: \"w-9/12 min-h-screen bg-gray-100 h-24 min-h-0 md:min-h-48 lg:w-full justify-around items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"container md:container md:mx-auto  w-9/12 mt-24 justify-between flex flex-row items-center px-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    className: \"lg:text-xl sm:text-lg font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Users Management\"), __jsx(\"img\", {\n    src: \"http://teskarir.com/wp-content/uploads/2020/06/imageedit_17_9008611935-150x150.png\",\n    className: \"w-1/12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"md:container md:mx-auto px-10 mt-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, __jsx(\"table\", {\n    className: \"border-collapse w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, \"Email\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, \"Role\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"Username\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, \"Domisili\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"Status\"), __jsx(\"th\", {\n    className: \"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Actions\"))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, allMembers.map((user, idUser) => __jsx(React.Fragment, null, __jsx(\"tr\", {\n    key: idUser,\n    className: \"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Email\"), user.email), __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"Role\"), __jsx(\"select\", {\n    onClick: async () => {\n      await updateUserStatus.updateRow(user.id, {\n        status: !user.status\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, __jsx(\"option\", {\n    selected: true,\n    value: user.userRole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  }, user.userRole), __jsx(\"option\", {\n    value: \"admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  }, \"admin\"), __jsx(\"option\", {\n    value: \"kontributor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 27\n    }\n  }, \"kontributor\"), __jsx(\"option\", {\n    value: \"peserta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 27\n    }\n  }, \"peserta\")), JSON.stringify(user)), __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \"Username\"), user.username), __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \"Domisili\"), user.domicile), __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, \"status\"), user.status == true ? __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 48\n    }\n  }, \"Actived\") : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 65\n    }\n  }, \"Suspend\")), __jsx(\"td\", {\n    className: \"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 23\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, \"Actions\"), __jsx(\"a\", {\n    onClick: async () => {\n      await updateUserStatus.updateRow(user.id, {\n        status: !user.status\n      });\n    },\n    href: \"#\",\n    className: \"text-blue-400 hover:text-blue-600 underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, \"Change Status\"), __jsx(\"a\", {\n    onClick: () => getDetailsUser(user.id),\n    href: \"#\",\n    className: \"text-blue-400 hover:text-blue-600 underline pl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, \"Lihat Detail\"), __jsx(\"a\", {\n    onClick: async () => {\n      await deleteUser.deleteRow(user.id);\n    },\n    href: \"#\",\n    className: \"text-blue-400 hover:text-blue-600 underline pl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, \"Delete\"))))))), __jsx(\"div\", {\n    className: \"mt-10 ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, detailView ? __jsx(React.Fragment, null, userDetails ? __jsx(React.Fragment, null, __jsx(\"h1\", {\n    className: \"text-lg font-bold mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 23\n    }\n  }, \"Detail\"), __jsx(\"h2\", {\n    className: \"text-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 23\n    }\n  }, \"USER ID : \", userDetails.id), __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, \"Role : \", userDetails.role.displayField), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 23\n    }\n  }, \"Username : \", userDetails.username), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 23\n    }\n  }, \"email : \", userDetails.email), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 23\n    }\n  }, \"Domisili : \", userDetails.domicile), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, \"Tanggal Lahir : \", userDetails.birthDate), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 23\n    }\n  }, \"Status Akun :\", userDetails.status ? __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 27\n    }\n  }, \"Actived Account\") : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 27\n    }\n  }, \"Suspend\"))) : null) : null)))));\n};\n\nexport default UsersManagement;","map":{"version":3,"sources":["/home/albarm/Desktop/Projects/Teskarir/testkarir-cms/teskarir-cms/pages/usersManagement.tsx"],"names":["Head","React","useState","qoreContext","useRouter","UsersManagement","router","id","setId","detailView","setDetailView","data","allMembers","view","useListRow","limit","order","pollInterval","deleteUser","useDeleteRow","updateUserStatus","useUpdateRow","updateUserRole","userDetails","status","useGetRow","detailViewHandler","getDetailsUser","console","log","map","user","idUser","email","updateRow","userRole","JSON","stringify","username","domicile","deleteRow","role","displayField","birthDate"],"mappings":"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","sourcesContent":["// import dynamic from \"next/dynamic\";\nimport Head from \"next/head\";\nimport React, { useState,useEffect } from \"react\";\nimport qoreContext from \"../utils/qoreContext\";\n// import ReactPaginate from \"react-paginate\";\nimport { useRouter } from \"next/router\";\n\n// component import example\n// const Todo = dynamic(() => import(\"../components/Todo\"), { ssr: false });\n\nconst UsersManagement = () => {\n  const router = useRouter();\n\n  const [id, setId] = useState(\"\");\n  const [detailView, setDetailView] = useState(false);\n\n  const { data: allMembers } = qoreContext\n    .view(\"allMember\")\n    .useListRow({ limit: 100, order: \"asc\" }, { pollInterval: 500 });\n\n  const deleteUser = qoreContext.view(\"allMember\").useDeleteRow();\n  const updateUserStatus = qoreContext.view(\"allMember\").useUpdateRow();\n  const updateUserRole = qoreContext.view(\"allMember\").useUpdateRow();\n  const { data: userDetails, status } = qoreContext\n    .view(\"allMember\")\n    .useGetRow(id);\n\n  const detailViewHandler = () => {\n    setDetailView(!detailView);\n  };\n\n  const getDetailsUser = (id: string) => {\n    console.log(id);\n    console.log(userDetails, status);\n    setId(id);\n    detailViewHandler();\n  };\n\n  return (\n    <>\n      <Head>\n        <title>CMS Teskarir</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      <div className=\"w-full bg-blue-300 flex justify-between\">\n        <div className=\"w-1/4 bg-blue-600 min-h-screen min-w-max flex-col items-center justify-center px-15 py-20\">\n          <h1 className=\"text-xl font-bold cursor-pointer text-left bg-transparent w-9/12 h-max px-10 py-10  text-white\">\n            Admin\n            <br />\n            Dashboard\n          </h1>\n          <ul className=\"bg-transparent justify-center min-w-max min-w-max h-5/6 \">\n            <li className=\"m-10 cursor-pointer text-white\">Home</li>\n            <li className=\"m-10 cursor-pointer text-white\">Users Management</li>\n            <li className=\"m-10 cursor-pointer text-white\">Tes Kuis</li>\n            <li className=\"m-10 cursor-pointer text-white\">Tentang Karir</li>\n            <li className=\"m-10 cursor-pointer text-white\">Logout</li>\n          </ul>\n        </div>\n        <div className=\"w-9/12 min-h-screen bg-gray-100 h-24 min-h-0 md:min-h-48 lg:w-full justify-around items-center\">\n          <div className=\"container md:container md:mx-auto  w-9/12 mt-24 justify-between flex flex-row items-center px-10\">\n            <h1 className=\"lg:text-xl sm:text-lg font-bold\">\n              Users Management\n            </h1>\n\n            <img\n              src=\"http://teskarir.com/wp-content/uploads/2020/06/imageedit_17_9008611935-150x150.png\"\n              className=\"w-1/12\"\n            />\n          </div>\n          <div className=\"md:container md:mx-auto px-10 mt-20\">\n\n            <table className=\"border-collapse w-full\">\n              <thead>\n                <tr>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Email\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Role\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Username\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Domisili\n                  </th>\n\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Status\n                  </th>\n                  <th className=\"p-3 font-bold uppercase bg-gray-200 text-gray-600 border border-gray-300 hidden lg:table-cell\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {allMembers.map((user, idUser) => (\n                  <>\n                    <tr\n                      key={idUser}\n                      className=\"bg-white lg:hover:bg-gray-100 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0\"\n                    >\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Email\n                        </span>\n                        {user.email}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Role\n                        </span>\n                        <select\n                              onClick={async () => {\n                                await updateUserStatus.updateRow(user.id, {\n                                  status: !user.status,\n                                });\n                              }}\n                        >\n                          <option selected value={user.userRole}>\n                            {user.userRole}\n                          </option>\n                          <option value='admin' \n                    \n                          >admin</option>\n                          <option value='kontributor'>kontributor</option>\n                          <option value='peserta'>peserta</option>\n                        </select>\n                        {JSON.stringify(user)}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Username\n                        </span>\n                        {user.username}\n                      </td>\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Domisili\n                        </span>\n                        {user.domicile}\n                      </td>\n\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          status\n                        </span>\n                        {user.status == true ? <p>Actived</p> : <p>Suspend</p>}\n                      </td>\n\n                      <td className=\"w-full lg:w-auto p-3 text-gray-800 text-center border border-b text-center block lg:table-cell relative lg:static\">\n                        <span className=\"lg:hidden absolute top-0 left-0 bg-blue-200 px-2 py-1 text-xs font-bold uppercase\">\n                          Actions\n                        </span>\n                        <a\n                          onClick={async () => {\n                            await updateUserStatus.updateRow(user.id, {\n                              status: !user.status,\n                            });\n                          }}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline\"\n                        >\n                          Change Status\n                        </a>\n                        <a\n                          onClick={() => getDetailsUser(user.id)}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline pl-6\"\n                        >\n                          Lihat Detail\n                        </a>\n                        <a\n                          onClick={async () => {\n                            await deleteUser.deleteRow(user.id);\n                          }}\n                          href=\"#\"\n                          className=\"text-blue-400 hover:text-blue-600 underline pl-6\"\n                        >\n                          Delete\n                        </a>\n                      </td>\n                    </tr>\n                    {/* <p>{JSON.stringify(allMembers)}</p> */}\n                  </>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"mt-10 ml-5\">\n              {detailView ? (\n                <>\n                  {userDetails ? (\n                    <>\n                      <h1 className=\"text-lg font-bold mb-3\">Detail</h1>\n                      <h2 className=\"text-md\">USER ID : {userDetails.id}</h2>\n                      <h3>Role : {userDetails.role.displayField}</h3>\n                      <p>Username : {userDetails.username}</p>\n                      <p>email : {userDetails.email}</p>\n                      <p>Domisili : {userDetails.domicile}</p>\n                      <p>Tanggal Lahir : {userDetails.birthDate}</p>\n                      <p>\n                        Status Akun :\n                        {userDetails.status ? (\n                          <span>Actived Account</span>\n                        ) : (\n                          <span>Suspend</span>\n                        )}\n                      </p>\n                    </>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UsersManagement;\n"]},"metadata":{},"sourceType":"module"}